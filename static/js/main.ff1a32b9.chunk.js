(this["webpackJsonpworking-build"]=this["webpackJsonpworking-build"]||[]).push([[0],{13:function(e,t,n){},19:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),l=n(12),s=n.n(l),a=n(6),r=n(7),o=n(9),j=n(8),d=n(2),u=(n(19),n(3)),h=n(0),b=Object(i.createContext)({favorites:[],addFavorite:function(e){},deleteFavorite:function(e){},playIsFavorite:function(e){}});function O(e){var t=Object(i.useState)([]),n=Object(u.a)(t,2),c=n[0],l=n[1];var s={favorites:c,addFavorite:function(e){l((function(t){return t.concat(e)}))},deleteFavorite:function(e){l((function(t){return t.filter((function(t){return t.id!==e}))}))},playIsFavorite:function(e){return c.some((function(t){return t.id===e}))}};return Object(h.jsx)(b.Provider,{value:s,children:e.children})}var p=b,x=n(5),f=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).userTitle=c.a.createRef(),i}return Object(r.a)(n,[{key:"handleChange",value:function(e){""!==e.target.value&&this.props.onUpdateTitle(e.target.value.toLowerCase())}},{key:"handleSubmit",value:function(){null===localStorage?console.log("its empty"):console.log("its loaded")}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"homePage",children:[Object(h.jsx)("img",{src:"https://unsplash.com/photos/3ZUsNJhi_Ik?utm_source=unsplash&utm_medium=referral&utm_content=creditShareLink",alt:"hero"}),Object(h.jsxs)("label",{children:["Title",Object(h.jsx)("input",{type:"text",name:"title",onChange:this.handleChange.bind(this)}),Object(h.jsx)(x.b,{to:"/singlePlay",children:Object(h.jsx)("input",{type:"button",value:"Find this Play"})})]}),Object(h.jsx)(x.b,{to:"/default",children:Object(h.jsx)("input",{type:"submit",value:"Show me all plays"})})]})}}]),n}(c.a.Component),y=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("p",{children:e.play.likelyDate}),Object(h.jsx)("p",{children:e.play.genre}),Object(h.jsx)("p",{children:e.play.wiki}),Object(h.jsx)("p",{children:e.play.gutenberg}),Object(h.jsx)("p",{children:e.play.shakespeareOrg}),Object(h.jsx)("p",{children:e.play.desc})]})},v=function(e){return Object(h.jsx)("div",{children:Object(h.jsxs)("p",{children:["Character: ",e.player]})})},g=(n(13),function(e){var t=function(e){return Object(h.jsxs)("div",{class:"speech",children:[Object(h.jsx)("span",{children:e.speaker}),e.lines.map((function(e){return n(e)}))]})},n=function(e){return Object(h.jsx)("p",{children:e})};return Object(h.jsxs)("section",{class:"playTextSection",children:[Object(h.jsx)("aside",{children:Object(h.jsx)("select",{id:"actList"})}),Object(h.jsxs)("article",{id:"actHere",children:[Object(h.jsx)("h3",{children:e.play.name}),e.play.scenes.map((function(e){return function(e){return Object(h.jsxs)("div",{id:"sceneHere",children:[Object(h.jsx)("h4",{children:e.name}),Object(h.jsx)("p",{class:"title",children:e.title}),Object(h.jsx)("p",{class:"direction",children:e.stageDirection}),e.speeches.map((function(e){return t(e)}))]})}(e)}))]})]})}),m=function(e){return Object(h.jsx)("select",{id:"sceneList",children:e.act.scenes.map((function(e){return Object(h.jsx)("option",{value:e.name,children:e.name})}))})},k=function(e){var t;return Object(h.jsx)("div",{children:Object(h.jsxs)("fieldset",{id:"interface",children:[Object(h.jsx)("select",{id:"actList",children:e.play.acts.map((function(n){return Object(h.jsx)("option",{onChange:(i=n.name,void(t=e.play.acts.find((function(e){return e.name===i})))),value:n.name,children:n.name});var i}))}),Object(h.jsx)(m,{act:t})]})})},C=function(e){var t;console.log("Play passed into detail!"),console.log(e.playClicked);var n=[JSON.parse(localStorage.getItem("playsDetails"))];n.some((function(t){return t.id===e.playClicked.id}))?(console.log("Already in local storage!"),t=n.find((function(t){return t.id===e.playClicked.id}))):""!==e.playClicked.filename?(fetch("https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/play.php?name="+e.playClicked.id).then((function(e){return e.json()})).then((function(e){var t=JSON.stringify(e);localStorage.setItem("playsDetails",t)}),(function(e){alert("Error fetching data")})),n=[JSON.parse(localStorage.getItem("playsDetails"))],t=n.find((function(t){return t.id===e.playClicked.id}))):console.log("Play does not contain characters and text!");var i=c.a.useState("details"),l=Object(u.a)(i,2),s=l[0],a=l[1];return Object(h.jsxs)("div",{children:[Object(h.jsxs)("aside",{children:[Object(h.jsx)("h1",{children:e.playClicked.title}),"text"!==s?Object(h.jsx)("h2",{children:e.playClicked.synopsis}):null,"text"===s?Object(h.jsx)(k,{play:t}):null]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{onClick:function(){return a("details")},children:"Details"}),Object(h.jsx)("button",{onClick:function(){return a("characters")},children:"Characters"}),Object(h.jsx)("button",{onClick:function(){return a("text")},children:"Text"}),Object(h.jsx)("div",{children:"characters"===s?t.persona.map((function(e){return Object(h.jsx)(v,{player:e.player})})):"text"===s?t.acts.map((function(e){return Object(h.jsx)(g,{play:e})})):Object(h.jsx)(y,{play:e.playClicked})})]})]})},S=function(e){var t=c.a.useState(!1),n=Object(u.a)(t,2),l=(n[0],n[1]),s=Object(i.useContext)(p),a=s.playIsFavorite(e.aPlay.id);var r="";return console.log(r),Object(h.jsxs)("li",{children:[Object(h.jsxs)("h2",{children:["Title: ",e.aPlay.title]}),Object(h.jsxs)("div",{children:["Released: ",e.aPlay.likelyDate]}),Object(h.jsxs)("div",{children:["Genre: ",e.aPlay.genre]}),Object(h.jsx)("button",{onClick:function(){a?s.deleteFavorite(e.aPlay.id):s.addFavorite(e.aPlay)},children:a?"Remove from Favorites":"Add to Favorites"}),Object(h.jsx)(x.b,{to:"/details",children:Object(h.jsx)("button",{onClick:function(t){l(!0),r=e.aPlay,e.showDetail(e.aPlay)},children:"View"})})]})},w=function(e){var t=e.plays,n=c.a.useState("title"),i=Object(u.a)(n,2),l=i[0],s=i[1];return Object(h.jsxs)("section",{children:[Object(h.jsxs)("label",{children:["Sort by:",Object(h.jsx)("form",{onChange:function(e){"title"===e.target.value?s("title"):"year"===e.target.value?s("year"):"genre"===e.target.value&&s("genre")},children:Object(h.jsxs)("select",{children:[Object(h.jsx)("option",{value:"select",children:"Select"}),Object(h.jsx)("option",{value:"title",children:"Title"}),Object(h.jsx)("option",{value:"year",children:"Year"}),Object(h.jsx)("option",{value:"genre",children:"Genre"})]})})]}),Object(h.jsx)("ul",{children:"title"===l?(function(){console.log("sort by title"),console.log(e.plays);var n=e.plays.sort((function(e,t){return e.title>t.title?1:-1}));console.log("Printing only titles: "),console.log(n),t=n}(),t.map((function(t){return Object(h.jsx)(S,{aPlay:t,showDetail:e.showDetail},t.id)}))):"year"===l?(function(){console.log("sort by date"),console.log(e.plays);var n=e.plays.sort((function(e,t){return e.likelyDate>t.likelyDate?1:-1}));console.log("Printing only dates: "),console.log(n),t=n}(),t.map((function(t){return Object(h.jsx)(S,{aPlay:t,showDetail:e.showDetail},t.id)}))):"genre"===l?(function(){console.log("sort by genre"),console.log(e.plays);var n=e.plays.sort((function(e,t){return e.genre>t.genre?1:-1}));console.log("Printing only genres: "),console.log(n),t=n}(),t.map((function(t){return Object(h.jsx)(S,{aPlay:t,showDetail:e.showDetail},t.id)}))):t.map((function(t){return Object(h.jsx)(S,{aPlay:t,showDetail:e.showDetail},t.id)}))})]})};var P=function(e){return Object(h.jsx)("div",{children:Object(h.jsx)(w,{plays:e.plays,showDetail:e.showDetail},e.plays.id)})};var D=function(){var e,t=Object(i.useContext)(p);return e=t.favorites.length<1?Object(h.jsx)("p",{children:"You Favorite List is Empty. Not a Shakes fan, eh?"}):t.favorites.map((function(e){return Object(h.jsx)(S,{aPlay:e},e.id)})),Object(h.jsxs)("section",{children:[Object(h.jsx)("h1",{children:"My Favorites"}),e]})};var F=function(){return Object(h.jsx)("section",{children:Object(h.jsx)("h1",{children:"About Us"})})},I=n(14),L=n.n(I),T=(n(24),function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={isOpen:!1},i}return Object(r.a)(n,[{key:"render",value:function(){var e=this;return Object(h.jsxs)("header",{children:[Object(h.jsx)("div",{children:"Shakes Plays"}),Object(h.jsx)("nav",{children:Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/",children:"Home"})}),Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/default",children:"Default View"})}),Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/details",children:"Play Details"})}),Object(h.jsx)("li",{children:Object(h.jsx)(x.b,{to:"/about",children:"About Us"})}),Object(h.jsxs)("li",{children:[Object(h.jsx)("button",{onClick:function(){return e.setState({isOpen:!0})},children:"My Favorites"}),Object(h.jsx)(L.a,{footer:Object(h.jsx)("div",{style:{padding:"15px"},children:Object(h.jsx)("button",{onClick:function(){return e.setState({isOpen:!1})},children:"Close"})}),isOpen:this.state.isOpen,onOutsideClick:function(){return e.setState({isOpen:!1})},children:Object(h.jsx)(D,{})})]})]})})]})}}]),n}(c.a.Component)),N=function(e){var t=c.a.useState(!1),n=Object(u.a)(t,2),l=n[0],s=n[1],a=c.a.useState(!0),r=Object(u.a)(a,2),o=(r[0],r[1]),j=Object(i.useContext)(p),d=j.playIsFavorite(e.single.id);return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h2",{children:["Title: ",e.single.title]}),Object(h.jsxs)("div",{children:["Released: ",e.single.likelyDate]}),Object(h.jsxs)("div",{children:["Genre: ",e.single.genre]}),Object(h.jsx)("button",{onClick:function(){d?j.deleteFavorite(e.single.id):j.addFavorite(e.single)},children:d?"Remove from Favorites":"Add to Favorites"}),Object(h.jsx)("button",{onClick:function(e){o(!1),s(!0)},children:"View"}),l?Object(h.jsx)(C,{thePlay:e.single}):null]})},J=function(e){Object(o.a)(n,e);var t=Object(j.a)(n);function n(e){var i;return Object(a.a)(this,n),(i=t.call(this,e)).state={error:null,isLoaded:!1,items:[],title:"",singlePlay:[],playClicked:[]},i}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;localStorage.getItem.length<=1?fetch("https://www.randyconnolly.com//funwebdev/3rd/api/shakespeare/list.php").then((function(e){return e.json()})).then((function(t){t.sort((function(e,t){return e.title.localeCompare(t.title)})),console.log(t),e.setState({isLoaded:!0,items:t});var n=JSON.stringify(t);localStorage.setItem("plays",n)}),(function(t){e.setState({isLoaded:!0,error:t})})):(this.setState({isLoaded:!0}),console.log("Plays are loaded in storage!"))}},{key:"render",value:function(){var e=this,t=this.state,n=t.error,i=t.isLoaded,c=t.items;if(n)return Object(h.jsxs)("div",{children:["Error: ",n.message]});if(!i)return Object(h.jsx)("div",{children:"Loading..."});localStorage.setItem("plays",c);return Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)(T,{}),Object(h.jsxs)(d.c,{children:[Object(h.jsx)(d.a,{path:"/",element:Object(h.jsx)(f,{onUpdateTitle:this.onUpdateTitle.bind(this)}),exact:!0}),Object(h.jsx)(d.a,{path:"/default",element:Object(h.jsx)(P,{plays:this.state.items,showDetail:function(t){e.setState({playClicked:t})}})}),Object(h.jsx)(d.a,{path:"/singlePlay",element:Object(h.jsx)(N,{single:this.state.singlePlay})}),Object(h.jsx)(d.a,{path:"/details",element:Object(h.jsx)(C,{playClicked:this.state.playClicked})}),Object(h.jsx)(d.a,{path:"/favorites",element:Object(h.jsx)(D,{})}),Object(h.jsx)(d.a,{path:"/about",element:Object(h.jsx)(F,{})})]})]})}},{key:"onUpdateTitle",value:function(e){this.setState({title:e});var t=this.state.items.findIndex((function(t){return t.title.toLowerCase()===e}));return this.setState({singlePlay:this.state.items[t]}),t}}]),n}(c.a.Component);s.a.render(Object(h.jsx)(O,{children:Object(h.jsx)(x.a,{children:Object(h.jsx)(J,{})})}),document.getElementById("root"))}},[[25,1,2]]]);
//# sourceMappingURL=main.ff1a32b9.chunk.js.map